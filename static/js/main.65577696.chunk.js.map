{"version":3,"sources":["components/WelcomePage.js","requests.js","components/AuctionsIndexPage.js","components/AuctionsShowPage.js","components/FormErrors.js","components/AuctionNewPage.js","components/SignInPage.js","components/SignUpPage.js","components/Navbar.js","components/AuthRoute.js","App.js","index.js"],"names":["WelcomePage","className","src","process","width","BASE_URL","Session","params","fetch","headers","credentials","method","body","JSON","stringify","then","res","json","User","user","Auction","console","log","id","published","Bid","AuctionIndexPage","current_user","useState","auctions","setAuction","useEffect","style","backgroundColor","textAlign","map","i","to","title","Date","created_at","toDateString","AuctionShowPage","props","auction","showAuction","match","description","onSubmit","event","preventDefault","formValues","amount","FormData","currentTarget","get","type","name","placeholder","value","bids","key","active_bid","end_date","reserve_bid","FormErrors","forField","errors","filteredErrors","errorsArray","error","displayErrors","AuctionNewPage","setErrors","setTitle","setdescription","endDate","setEndDate","reserveBid","setReserveBid","handleSubmit","formData","question","history","push","createAuction","reset","htmlFor","onChange","e","target","min","now","SignInPage","email","password","SignUpPage","first_name","last_name","password_confirmation","Navbar","destroySession","alt","onClick","AuthRoute","isAuth","Component","component","restProps","render","routeProps","App","setUser","handleSignIn","handleSignUp","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.65577696.chunk.js","sourcesContent":["\r\nexport default function WelcomePage() {\r\n\r\n    return (\r\n        <img className='welcome' src={process.env.PUBLIC_URL + '/WelcomePage.png'} width='100%' />\r\n    )\r\n  }\r\n  ","const BASE_URL = 'https://chengs-auction.herokuapp.com/api/v1';\r\n\r\nexport const Session = {\r\n  create(params) {\r\n    return fetch(`${BASE_URL}/session`, {\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include', \r\n      method: 'POST',\r\n      body: JSON.stringify(params)\r\n    }).then((res) => {\r\n      return res.json();\r\n    })\r\n  },\r\n  currentUser(){\r\n    return fetch(`${BASE_URL}/current_user`,{\r\n      credentials: 'include'\r\n    }).then((res)=> res.json())\r\n  },\r\n  destroy(){\r\n    return fetch(`${BASE_URL}/session`, {\r\n      method: 'DELETE',\r\n      credentials: 'include'\r\n    }).then(res => res.json())\r\n  }\r\n}\r\nexport const User={\r\n  create(params){\r\n    return fetch(`${BASE_URL}/users`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({user:params})\r\n      }\r\n    ).then(res => res.json());\r\n  }\r\n}\r\n\r\nexport const Auction = {\r\n  index() {\r\n    return fetch(`${BASE_URL}/auctions`)\r\n      .then(res => {\r\n        console.log(res)\r\n        return res.json();\r\n      })\r\n  },\r\n  create(params) {\r\n    return fetch(`${BASE_URL}/auctions`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(params)\r\n    }).then(res => res.json())\r\n  },\r\n  show(id) {\r\n    return fetch(`${BASE_URL}/auctions/${id}`)\r\n      .then(res => res.json())\r\n  },\r\n  update(id,params){\r\n    return fetch(`${BASE_URL}/auctions/${id}`,{\r\n      method: \"PATCH\",\r\n      credentials: \"include\",\r\n      headers:{ \"Content-Type\":\"application/json\" },\r\n      body: JSON.stringify(params)\r\n    }).then(res=> res.json());\r\n  },\r\n  publish(id){\r\n    return fetch(`${BASE_URL}/auctions/${id}`,{\r\n      method: \"PATCH\",\r\n      credentials: \"include\",\r\n      headers:{ \"Content-Type\":\"application/json\" },\r\n      body: JSON.stringify({published: true})\r\n    }).then(res=> res.json());\r\n  }\r\n}\r\n\r\nexport const Bid = {\r\n  create(id, params) {\r\n    return fetch(`${BASE_URL}/auctions/${id}/bids`, {\r\n      method: 'POST',\r\n      credentials: 'include',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(params)\r\n    }).then(res => res.json())\r\n  }\r\n}","import { Auction } from '../requests';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function AuctionIndexPage({ current_user }) {\r\n  const [auctions, setAuction] = useState([])\r\n  useEffect(()=>{\r\n    Auction.index()\r\n      .then(auctions => {\r\n        setAuction(auctions)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div style={{ backgroundColor: \"#FFF6E8\", textAlign: \"center\"}}><h1><strong>Auctions</strong></h1></div>\r\n        {auctions.map(i=>{\r\n            return (\r\n              <div key={i.id}>\r\n              <Link to={`/auctions/${i.id}`} key={i.id}>\r\n              <p>{i.title}</p>\r\n              </Link>\r\n              <p>Posted on {new Date(i.created_at).toDateString()}</p>\r\n              </div>\r\n            )\r\n        }) }\r\n    </>\r\n  )\r\n}\r\n","import { Auction } from '../requests';\r\nimport { useState, useEffect } from 'react';\r\nimport { Bid } from '../requests';\r\n\r\nexport default function AuctionShowPage(props) {\r\n    const [auction, setAuction] = useState([])\r\n    const current_user = props.current_user\r\n    useEffect(()=>{\r\n      showAuction()\r\n    }, [])\r\n\r\n    function showAuction(){\r\n      Auction.show(props.match.params.id)\r\n      .then(auction => {\r\n        setAuction(auction)\r\n      })\r\n    }\r\n\r\n    function onSubmit(event){\r\n      event.preventDefault();\r\n      const formData = new FormData(event.currentTarget);\r\n      const formValues={ amount: formData.get('amount') }\r\n      Bid.create(auction.id, formValues).then(()=>{\r\n        return showAuction()\r\n      })\r\n    }\r\n\r\n    function handlePublish(event){\r\n      event.preventDefault();\r\n      Auction.publish(props.match.params.id)\r\n      .then(res=>{\r\n        console.log(res)\r\n      })\r\n    }\r\n    return (\r\n      <>\r\n      {auction ? \r\n      <div className='container pt-4'>\r\n        <h1>{auction.title}</h1>\r\n        <div className=\"container-fluid row justify-content-between\">\r\n          <div className=\"col-6\">\r\n            <p>{auction.description}</p>\r\n            <form onSubmit={onSubmit}>\r\n            <p className=\"form-group d-flex\">\r\n                <input type=\"number\" name=\"amount\" id=\"amount\" placeholder=\"475\" className=\"form-control\" />\r\n                <input type=\"submit\" value=\"Bid\" className=\"btn btn-secondary ml-2\" />\r\n            </p>\r\n            </form>\r\n              <form onSubmit={handlePublish}>\r\n                <p className=\"form-group d-flex\">\r\n                    <input type=\"submit\" value=\"Publish\" className=\"btn btn-secondary ml-2 form-control\" />\r\n                </p>\r\n              </form>\r\n            \r\n            <p><u>Previous Bids</u></p>\r\n            {auction.bids? auction.bids.map((i, key)=>{\r\n              return (\r\n                <p key={key}>\r\n                  {i.amount} on {new Date(i.created_at).toDateString()}\r\n                </p>\r\n              )\r\n            }) : null}\r\n          </div>\r\n\r\n          <div className=\"col-6\">\r\n            <p>Current Bid: ${auction.active_bid ? auction.active_bid : 0}</p>\r\n            <p>Ends At: {new Date(auction.end_date).toDateString()}</p>\r\n            <p>{auction.active_bid < auction.reserve_bid ? \"Reserved Price Met\" : \"Reserved Price Not Met\"}</p>\r\n          </div>\r\n          \r\n        </div>\r\n      </div>\r\n      :''}\r\n      </>\r\n    )\r\n  }\r\n  ","import React from 'react';\r\n\r\nconst FormErrors = props =>{\r\n    const {\r\n        forField,\r\n        errors={}\r\n    }=props;\r\n    let filteredErrors=[];\r\n    if(errors[forField]){\r\n        console.log('Error Field:', errors[forField]);\r\n        filteredErrors=errors[forField];\r\n        console.log('Filtered Errors', filteredErrors)\r\n    }\r\n    \r\n    function displayErrors(errorsArray){\r\n        if(errorsArray){\r\n            let newArray=errorsArray.map((error,i)=><li key={i}>{error}</li>)\r\n            return newArray;\r\n        }\r\n    }\r\n\r\n    return(\r\n        <ul>{displayErrors(filteredErrors)}</ul>\r\n    )\r\n\r\n}\r\nexport default FormErrors;","import { useState } from 'react';\r\nimport { Auction} from '../requests';\r\nimport FormErrors from './FormErrors'\r\n\r\nconst AuctionNewPage = (props)=>{\r\n    const [errors,setErrors]=useState({});\r\n    const [title,setTitle]=useState('');\r\n    const [description,setdescription]=useState('');\r\n    const [endDate,setEndDate]=useState('');\r\n    const [reserveBid,setReserveBid]=useState('');\r\n\r\n    const handleSubmit = (event)=>{\r\n        event.preventDefault();\r\n        const formData= new FormData(event.currentTarget);\r\n        const params={\r\n            title: formData.get('title'),\r\n            description: formData.get('description'),\r\n            end_date: formData.get('end_date'),\r\n            reserve_bid: formData.get('reserve_bid')\r\n        }\r\n        createAuction(params);\r\n        event.currentTarget.reset();\r\n    }\r\n    function createAuction(params){\r\n        Auction.create(params)\r\n        .then((question)=>{\r\n            if(question.errors){\r\n                setErrors(question.errors)\r\n            }\r\n            if(question.id){\r\n                const id = question.id;\r\n                props.history.push(`/auctions/${id}`)\r\n            }\r\n        })\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <div style={{ backgroundColor: \"#FFF6E8\", textAlign: \"center\"}}><h1><strong>Create An Auction</strong></h1></div>\r\n            <form onSubmit={event=>handleSubmit(event)}>\r\n                <div className='container col-8'>\r\n                    <div className=\"form-group d-flex\">\r\n                        <label htmlFor='title'>Title*: </label>\r\n                        <input name='title' id='title' value={title} onChange={e=>setTitle(e.target.value)} className=\"form-control ml-3\" />\r\n                    </div>\r\n                    <div className=\"form-group d-flex\">\r\n                        <label htmlFor='description'>Description*: </label>\r\n                        <textarea name='description' id='description'  value={description} onChange={e=>setdescription(e.target.value)} className=\"form-control ml-3\"/>\r\n                    </div>\r\n                    <div className=\"form-group d-flex\">\r\n                        <label htmlFor='end_date'>EndsAt*: </label>\r\n                        <input type=\"date\" min={Date.now()}name='end_date' id='end_date' value={endDate} onChange={e=>setEndDate(e.target.value)} className=\"form-control ml-3\" />\r\n                    </div>\r\n                    <div className=\"form-group d-flex\">\r\n                        <label htmlFor='reserve_bid'>ReservePrice*: </label>\r\n                        <input type=\"number\" min={1} name='reserve_bid' id='reserve_bid' value={reserveBid} onChange={e=>setReserveBid(e.target.value)} className=\"form-control ml-3\" />\r\n                    </div>\r\n                    \r\n                    <FormErrors errors={errors} forField='title'/>\r\n                    <FormErrors errors={errors} forField='description' />\r\n                    <FormErrors errors={errors} forField='end_date' />\r\n                    <FormErrors errors={errors} forField='reserve_bid' />\r\n                    <input type='submit' value='Submit'/>\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\nexport default AuctionNewPage;","import React from 'react';\r\n\r\nconst SignInPage =({handleSubmit, history})=>{\r\n    function onSubmit(event){\r\n        event.preventDefault();\r\n        const {currentTarget}=event;\r\n        const formData = new FormData(currentTarget);\r\n        const formValues={\r\n            email: formData.get('email'),\r\n            password: formData.get('password')\r\n        }\r\n        handleSubmit(formValues)\r\n        history.push('/auctions')\r\n    }\r\n    return(\r\n        <main className=\"container d-flex justify-content-center pt-4\">\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"d-flex flex-column\">\r\n                    <label htmlFor='email'>Email*</label>\r\n                    <input id='email' type='email' name='email' className=\"form-control\" />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <label htmlFor='password'>Password*</label>\r\n                    <input id='password' type='password' name='password' className=\"form-control\" />\r\n                </div>\r\n                <input type='submit' value='Sign In'  className=\"form-control btn btn-secondary mt-2\"/>\r\n            </form>\r\n        </main>\r\n    )\r\n}\r\nexport default SignInPage;","import React from 'react';\r\n\r\nconst SignUpPage =({handleSubmit, history})=>{\r\n    function onSubmit(event){\r\n        event.preventDefault();\r\n        const {currentTarget}=event;\r\n        const formData = new FormData(currentTarget);\r\n        const formValues={\r\n            first_name: formData.get('first_name'),\r\n            last_name: formData.get('last_name'),\r\n            email: formData.get('email'),\r\n            password: formData.get('password'),\r\n            password_confirmation: formData.get('password_confirmation')\r\n        }\r\n        handleSubmit(formValues)\r\n        history.push('/auctions')\r\n    }\r\n    return(\r\n        <main className=\"container d-flex justify-content-center pt-4\">\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"d-flex flex-column\">\r\n                    <label htmlFor='first_name'>First Name*</label>\r\n                    <input id='first_name' type='text' name='first_name' className=\"form-control\" />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <label htmlFor='last_name'>Last Name*</label>\r\n                    <input id='last_name' type='text' name='last_name' className=\"form-control\" />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <label htmlFor='email'>Email*</label>\r\n                    <input id='email' type='email' name='email' className=\"form-control\" />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <label htmlFor='password'>Password*</label>\r\n                    <input id='password' type='password' name='password' className=\"form-control\" />\r\n                </div>\r\n                <div className=\"d-flex flex-column\">\r\n                    <label htmlFor='password_confirmation'>Password*</label>\r\n                    <input id='password_confirmation' type='password' name='password_confirmation' className=\"form-control\" />\r\n                </div>\r\n                <input type='submit' value='Sign In'  className=\"form-control btn btn-secondary mt-2\"/>\r\n            </form>\r\n        </main>\r\n    )\r\n}\r\nexport default SignUpPage;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nconst Navbar = ({ current_user, destroySession })=>{\r\n  return(\r\n    <nav className=\"container-fluid navbar navbar-expand bg-light navbar-light justify-content-between py-0 font-size-lg\" >\r\n        \r\n        <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item\">\r\n            <NavLink to='/auction' className=\"nav-link\">\r\n              <img src={process.env.PUBLIC_URL + '/logo.jpg'} alt=\"Auction Logo\" />\r\n            </NavLink>\r\n            \r\n            </li>\r\n        </ul>\r\n        <ul className=\"navbar-nav\">\r\n            <li className=\"nav-item\">\r\n              <NavLink to='/auction' className=\"nav-link\">Home</NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <NavLink to='/auctions' className=\"nav-link\">Auctions</NavLink>\r\n            </li>\r\n            { current_user.user ? \r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink to='/auctions/new' className=\"nav-link\">New Auctions</NavLink>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <span className=\"nav-link\">{current_user.user.first_name}</span>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <button onClick={destroySession}>Sign Out</button>\r\n                  </li>\r\n                </>\r\n                : \r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink to='/sign_in' className=\"nav-link\">Sign In</NavLink>\r\n                  </li> \r\n                  \r\n                  <li className=\"nav-item\">\r\n                    <NavLink to='/sign_up' className=\"nav-link\">Sign Up</NavLink>\r\n                  </li> \r\n                </> }\r\n        </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Navbar;\r\n\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom'\r\n\r\nconst AuthRoute = props =>{\r\n    const {isAuth, component:Component, ...restProps} = props\r\n    return(\r\n        <Route \r\n        {...restProps}\r\n        render={\r\n            (routeProps)=>{\r\n                if (isAuth){\r\n                    return <Component {...routeProps}/>\r\n\r\n                }else{\r\n                    return <Redirect to='/sign_in' />\r\n                }\r\n            }  \r\n        }\r\n        />\r\n    )\r\n}\r\nexport default AuthRoute;","import './App.css'\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport { useState, useEffect } from 'react';\nimport WelcomePage from './components/WelcomePage'\nimport AuctionsIndexPage from './components/AuctionsIndexPage'\nimport AuctionsShowPage from './components/AuctionsShowPage'\nimport AuctionNewPage from './components/AuctionNewPage'\nimport SignInPage from './components/SignInPage'\nimport SignUpPage from './components/SignUpPage';\nimport Navbar from './components/Navbar';\nimport AuthRoute from './components/AuthRoute';\nimport { Session, User } from './requests';\n\nconst App = () => {\n  const [user, setUser] = useState({})\n\n  useEffect(()=>{\n    Session.currentUser()\n    .then(res=>{\n      console.log(\"FROM APP 2\", res)\n      setUser({user: res})\n    })\n  }, [])\n\n  const handleSignIn = (params)=>{\n    Session.create(params)\n    .then(()=>{\n      return Session.currentUser()\n    })\n    .then(user=>{\n      setUser({user: user})\n    })\n  }\n  const handleSignUp = (params)=>{\n    User.create(params)\n    .then(()=>{\n      return Session.currentUser()\n    }).then((user)=>{\n      setUser({user: user})\n    })\n  }\n  const destroySession = ()=>{\n    Session.destroy()\n    .then(res=>{\n      setUser({user:null})\n    })\n  }\n  return (\n    \n      <BrowserRouter>\n      <Navbar current_user={user} destroySession={destroySession} />\n      <div className='app container-fluid'>\n      <Switch>\n      <Route exact path='/auction' component={WelcomePage} />\n      <AuthRoute exact path='/auctions/new' isAuth={user.user} component={AuctionNewPage}/>\n      <Route path='/auctions/:id' render={(routeProps)=><AuctionsShowPage current_user={user} {...routeProps} />} />\n      <Route path='/auctions' render={(routeProps)=><AuctionsIndexPage current_user={user} {...routeProps} />} />\n      <Route path='/sign_in' render={(routeProps)=><SignInPage handleSubmit={handleSignIn} {...routeProps}/>} />\n      <Route path='/sign_up' render={(routeProps)=><SignUpPage handleSubmit={handleSignUp} {...routeProps}/>} />\n      </Switch>\n      </div>\n      </BrowserRouter>\n    \n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}